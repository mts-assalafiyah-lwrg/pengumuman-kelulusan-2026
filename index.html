<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="logo_mts.png" type="image/ico">
    <title>Pengumuman Kelulusan MTS Assalafiyah Luwungragi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #e6ffee 0%, #b3ffcc 100%);
            min-height: 100vh;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #1a8d5f 0%, #115740 100%);
        }
        
        .container-custom {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .btn-green {
            background: linear-gradient(135deg, #1a8d5f 0%, #115740 100%);
            color: white;
            transition: all 0.3s ease;
        }
        
        .btn-green:hover {
            background: linear-gradient(135deg, #115740 0%, #0d4230 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        
        th {
            background-color: #f8fafc;
            font-weight: 600;
        }
        
        tr:hover {
            background-color: #f1f5f9;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Welcome Page -->
    <div id="welcome-page" class="min-h-screen flex flex-col">
        <header class="gradient-bg text-white py-4 shadow-md">
            <div class="container-custom">
                <h1 class="text-2xl md:text-3xl font-bold text-center">MTS ASSALAFIYAH LUWUNGRAGI</h1>
            </div>
        </header>
        
        <main class="flex-grow container-custom py-8">
            <div class="card p-8 mb-8">
                <h2 class="text-2xl md:text-4xl font-bold text-center text-green-800 mb-6">PENGUMUMAN KELULUSAN SISWA-SISWI KELAS IX MTS ASSALAFIYAH LUWUNGRAGI</h2>
                <h3 class="text-xl md:text-2xl font-semibold text-center text-green-700 mb-8">TAHUN AJARAN 2025/2026</h3>
                
                <div class="my-8 p-6 bg-green-50 rounded-lg border border-green-200">
                    <h4 class="text-xl font-semibold text-green-800 mb-4">Sambutan Kepala Madrasah</h4>
                    <p class="text-gray-700 mb-4">Assalamualaikum Wr. Wb.</p>
                    <p class="text-gray-700 mb-4">Dengan memanjatkan puji syukur kehadirat Allah SWT, kami sampaikan selamat kepada seluruh siswa kelas IX MTS Assalafiyah Luwungragi yang telah menyelesaikan pendidikan dengan baik.</p>
                    <p class="text-gray-700 mb-4">Kelulusan ini merupakan awal dari perjalanan pendidikan yang lebih tinggi. Tetaplah semangat dalam menuntut ilmu dan jadilah pribadi yang bermanfaat bagi agama, bangsa, dan negara.</p>
                    <p class="text-gray-700 mb-4">Wassalamualaikum Wr. Wb.</p>
                    <p class="text-green-800 font-semibold text-right">Kepala Madrasah</p>
                </div>
                
                <div class="text-center">
                    <button id="check-graduation-btn" class="btn-green px-6 py-3 rounded-lg font-semibold text-lg">Periksa Kelulusan</button>
                </div>
            </div>
        </main>
        
        <footer class="gradient-bg text-white py-4">
            <div class="container-custom text-center">
                <p>&copy; 2026 MTS Assalafiyah Luwungragi</p>
            </div>
        </footer>
    </div>
    
    <!-- Graduation Check Page -->
    <div id="graduation-page" class="min-h-screen flex flex-col hidden">
        <header class="gradient-bg text-white py-4 shadow-md">
            <div class="container-custom flex justify-between items-center">
                <h1 class="text-2xl font-bold">MTS ASSALAFIYAH LUWUNGRAGI</h1>
                <button id="back-to-welcome" class="bg-white text-green-800 px-4 py-2 rounded-lg font-medium">Kembali</button>
            </div>
        </header>
        
        <main class="flex-grow container-custom py-8">
            <div class="card p-8">
                <h2 class="text-2xl md:text-3xl font-bold text-center text-green-800 mb-6">PERIKSA KELULUSAN</h2>
                
                <div id="time-warning" class="bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-lg mb-6 hidden">
                    <p class="font-medium">Pengumuman kelulusan belum dimulai. Silakan periksa kembali pada tanggal X XXXXXX 2026 pukul 16.00 WIB.</p>
                </div>
                
                <form id="graduation-form" class="max-w-md mx-auto">
                    <div class="mb-4">
                        <label for="nisn" class="block text-gray-700 font-medium mb-2">NISN</label>
                        <input type="text" id="nisn" name="nisn" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="Masukkan NISN" required>
                    </div>
                    
                    <div class="mb-6">
                        <label for="birthdate" class="block text-gray-700 font-medium mb-2">Tanggal Lahir</label>
                        <input type="text" id="birthdate" name="birthdate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="DD/MM/YYYY" required>
                    </div>
                    
                    <div class="text-center">
                        <button type="submit" class="btn-green px-6 py-3 rounded-lg font-semibold text-lg w-full">Periksa</button>
                    </div>
                </form>
                
                <div id="result" class="mt-8 hidden">
                    <div class="bg-green-50 border border-green-200 rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-green-800 mb-4">Hasil Kelulusan</h3>
                        
                        <div class="space-y-3">
                            <div class="flex">
                                <span class="font-medium w-32">Nama</span>
                                <span>: <span id="result-name"></span></span>
                            </div>
                            <div class="flex">
                                <span class="font-medium w-32">NISN</span>
                                <span>: <span id="result-nisn"></span></span>
                            </div>
                            <div class="flex">
                                <span class="font-medium w-32">Tanggal Lahir</span>
                                <span>: <span id="result-birthdate"></span></span>
                            </div>
                            <div class="flex">
                                <span class="font-medium w-32">Kelas</span>
                                <span>: <span id="result-kelas"></span></span>
                            </div>

                            <div class="flex">
                                <span class="font-medium w-32">Status</span>
                                <span>: <span id="result-status" class="font-bold"></span></span>
                            </div>
                        </div>
				                            <div class="text-center mt-6">
                                <button onclick="saveAsImage()" class="btn-green px-4 py-2 rounded-lg font-semibold">Simpan</button>
                            </div>
                    </div>
                </div>
                
                <div id="admin-result" class="mt-8 hidden">
                    <div class="bg-green-50 border border-green-200 rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-green-800 mb-4">Daftar Kelulusan Siswa</h3>
                        
                        <div class="overflow-x-auto">
                            <table>
                                <thead>
                                    <tr>
                                        <th>No</th>
                                        <th>NISN</th>
                                        <th>Nama</th>
                                        <th>Tanggal Lahir</th>
                                        <th>Kelas</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-table-body">
                                    <!-- Data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div id="not-found" class="mt-8 hidden">
                    <div class="bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg">
                        <p class="font-medium">Data tidak ditemukan. Silakan periksa kembali NISN dan Tanggal Lahir Anda.</p>
                    </div>
                </div>
            </div>
        </main>
        
        <footer class="gradient-bg text-white py-4">
            <div class="container-custom text-center">
                <p>&copy; 2025 MTS Assalafiyah Luwungragi</p>
            </div>
        </footer>
    </div>
    
    <script>
        // Student data
        const students = [
            { nisn: "XXXXXXXXXX", nama: "John Doe", tanggalLahir: "XX/XX/XXXX", kelas: "IX", status: "LULUS" }
        ];
        
        // DOM elements
        const welcomePage = document.getElementById('welcome-page');
        const graduationPage = document.getElementById('graduation-page');
        const checkGraduationBtn = document.getElementById('check-graduation-btn');
        const backToWelcomeBtn = document.getElementById('back-to-welcome');
        const graduationForm = document.getElementById('graduation-form');
        const resultDiv = document.getElementById('result');
        const adminResultDiv = document.getElementById('admin-result');
        const notFoundDiv = document.getElementById('not-found');
        const timeWarningDiv = document.getElementById('time-warning');
        
        // Result elements
        const resultName = document.getElementById('result-name');
        const resultNisn = document.getElementById('result-nisn');
	const resultBirthdate = document.getElementById('result-birthdate');
	const resultKelas = document.getElementById('result-kelas');
        const resultStatus = document.getElementById('result-status');
        const adminTableBody = document.getElementById('admin-table-body');
        
        // Navigation
        checkGraduationBtn.addEventListener('click', () => {
            welcomePage.classList.add('hidden');
            graduationPage.classList.remove('hidden');
        });
        
        backToWelcomeBtn.addEventListener('click', () => {
            graduationPage.classList.add('hidden');
            welcomePage.classList.remove('hidden');
            
            // Reset form and results
            graduationForm.reset();
            resultDiv.classList.add('hidden');
            adminResultDiv.classList.add('hidden');
            notFoundDiv.classList.add('hidden');
            timeWarningDiv.classList.add('hidden');
        });
        
        // Form submission
        graduationForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const nisn = document.getElementById('nisn').value.trim();
            const birthdate = document.getElementById('birthdate').value.trim();
            
            // Reset previous results
            resultDiv.classList.add('hidden');
            adminResultDiv.classList.add('hidden');
            notFoundDiv.classList.add('hidden');
            timeWarningDiv.classList.add('hidden');
            
            // Check if announcement time has come
            const announcementDate = new Date('2025-06-02T16:00:00+07:00');
            const currentDate = new Date();
            
            // Admin access
            if (nisn.toLowerCase() === 'admin') {
                showAdminResults();
                return;
            }
            
            // Time check (commented out for testing purposes)
            if (currentDate < announcementDate) {
                timeWarningDiv.classList.remove('hidden');
                return;
            }
            
            // Find student
            const student = students.find(s => s.nisn === nisn && s.tanggalLahir === birthdate);
            
            if (student) {
                // Show result
                resultName.textContent = student.nama;
                resultNisn.textContent = student.nisn;
		resultBirthdate.textContent = student.tanggalLahir;
		resultKelas.textContent = student.kelas;
                resultStatus.textContent = student.status;
                resultStatus.className = student.status === 'LULUS' ? 'font-bold text-green-600' : 'font-bold text-red-600';
                resultDiv.classList.remove('hidden');
            } else {
                notFoundDiv.classList.remove('hidden');
            }
        });
        
        // Show admin results
        function showAdminResults() {
            adminTableBody.innerHTML = '';
            
            students.forEach((student, index) => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${student.nisn}</td>
                    <td>${student.nama}</td>
                    <td>${student.tanggalLahir}</td>
                    <td>${student.kelas}</td>
                    <td class="${student.status === 'LULUS' ? 'text-green-600 font-bold' : 'text-red-600 font-bold'}">${student.status}</td>
                `;
                
                adminTableBody.appendChild(row);
            });
            
            adminResultDiv.classList.remove('hidden');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'94242f5e3533ce5a',t:'MTc0NzY2MzkwMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();
function saveAsImage() {
    const resultElement = document.getElementById('result');

    html2canvas(resultElement).then(canvas => {
        const link = document.createElement('a');
        link.download = 'hasil-kelulusan.jpg';
        link.href = canvas.toDataURL('image/jpeg', 1.0);
        link.click();
    });
}
</script></body>
</html>

